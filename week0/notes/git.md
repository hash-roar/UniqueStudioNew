# git

## 配置

1. `git config --list` 命令来列出所有 Git 当时能找到的配置
2. `git config <key>：` 来检查 Git 的某一项配置。

## base

1. `git status` 命令的输出十分详细，但其用语有些繁琐。 如果你使用 `git status -s` 命令或 `git status --short` 命令，将得到一种更为紧凑的格式输出。 运行 `git status -s` 
2. 新添加的未跟踪文件前面有 ?? 标记，新添加到暂存区中的文件前面有 A 标记，修改过的文件前面有 M 标记。  M 有两个可以出现的位置，出现在右边的 M 表示该文件被修改了但是还没放入暂存区，出现在靠左边的 M 表示该文件被修改了并放入了暂存区。
3. **忽略文件:**

创建一个名为 `.gitignore` 的文件，列出要忽略的文件模式。

```
*.[oa]
*~
```

所谓的 `glob` 模式是指 shell 所使用的简化了的正则表达式。 星号(`*`)匹配零个或多个任意字符；`[abc]`匹配任何一个列在方括号中的字符(这个例子要么匹配一个字符 `a`，要么匹配一个字符 `b`，要么匹配一个字符 `c`)；问号(`?`)只匹配一个任意字符；如果在方括号中使用短划线分隔两个字符，表示所有在这两个字符范围内的都可以匹配(比如 `[0-9]` 表示匹配所有 `0` 到 `9` 的数字)。 使用两个星号(`*`) 表示匹配任意中间目录，比如`a/**/z` 可以匹配 `a/z`, `a/b/z` 或 `a/b/c/z`等。

下面再看一个 `.gitignore` 文件的例子：

```shell
# no .a files
*.a

# but do track lib.a, even though you're ignoring .a files above
!lib.a

# only ignore the TODO file in the current directory, not subdir/TODO
/TODO

# ignore all files in the build/ directory
build/

# ignore doc/notes.txt, but not doc/server/arch.txt
doc/*.txt

# ignore all .pdf files in the doc/ directory
doc/**/*.pdf
```

4. `git diff` 将通过文件补丁的格式显示具体哪些行发生了改变。`git diff` 本身只显示尚未暂存的改动，而不是自上次提交以来所做的所有改动。

5. `git diff --cached` 查看已经暂存起来的变化：(`--staged` 和 `--cached` 是同义词)

6. 跳过使用暂存区域:Git 提供了一个跳过使用暂存区域的方式， 只要在提交的时候，给 `git commit` 加上 `-a` 选项，Git 就会自动把所有已经跟踪过的文件暂存起来一并提交，从而跳过 `git add` 步骤

7. 如果删除之前修改过并且已经放到暂存区域的话，则必须要用强制删除选项 `-f`

8. 把文件从 Git 仓库中删除(亦即从暂存区域移除)，但仍然希望保留在当前工作目录中.为达到这一目的，使用 `--cached` 选项

9. `git log` 有许多选项可以帮助你搜寻你所要找的提交， 接下来我们介绍些最常用的。一个常用的选项是 `-p`，用来显示每次提交的内容差异。 可以加上 `-2` 来仅显示最近两次提交想看到每次提交的简略的统计信息，可以使用 `--stat`另外一个常用的选项是 `--pretty`。 这个选项可以指定使用不同于默认格式的方式展示提交历史。 这个选项有一些内建的子选项供你使用。 比如用 `oneline` 将每个提交放在一行显示，查看的提交数很大时非常有用。 另外还有 `short`，`full`

10. log 选项 `--graph` 结合使用时尤其有用。 这个选项添加了一些ASCII字符串来形象地展示你的分支、合并历史.

11. 撤消对文件的修改: git checkout -- <file>.

12. `git remote` 命令。 它会列出你指定的每一个远程服务器的简写

13. `-v`，会显示需要读写远程仓库使用的 Git 保存的简写与其对应的 URL。

14. `git remote add <shortname> <url>` 添加一个新的远程 Git 仓库，同时指定一个可以轻松引用的简写

15. ```shell
    $ git fetch [remote-name]
    Shell
    ```

    这个命令会访问远程仓库，从中拉取所有还没有的数据。执行完成后，将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。

16. `git pull` 命令来自动的抓取然后合并远程分支到当前分支。

17. git remote rename` 去修改一个远程仓库的简写名。 例如，想要将 `gs` 重命名为 `newgs

    

    

## git工作流程

​    

一般工作流程如下：

- 将Git的一个存储库克隆为工作副本。

- 可以通过添加/编辑文件修改工作副本。

- 如有必要，还可以通过让其他开发人员一起来更改/更新工作副本。

- 在提交之前查看更改。

- 提交更改：如果一切正常，那么将您的更改推送到存储库。

- 提交后，如果意识到某些错误并修改错误后，则将最后一个正确的修改提交并将推送到存储库。

    

  1. `git show`命令查看某一次提交详细信息。
  2. 把当前工作的改变隐藏起来。 要将一个新的存根推到堆栈上，运行`git stash`命令。
  3. 通过使用`git stash list`命令来查看已存在更改的列表。
  4. 执行`git stash pop`命令即可从堆栈中删除更改并将其放置在当前工作目录中。

## git操作

### 移动

git mv main.py src/

### 重命名

git mv

### 删除

git rm

### 修正

## 多分支

1. `git reset`命令用于复位或恢复更改。 我们可以执行三种不同类型的复位操作。
2. 每个分支都有一个`HEAD`指针，它指向最新的提交。 如果用`--soft`选项后跟提交ID的`Git reset`命令，那么它将仅重置`HEAD`指针而不会破坏任何东西。
3. 使用`--mixed`选项的Git重置将从尚未提交的暂存区域还原这些更改。它仅从暂存区域恢复更改。对文件的工作副本进行的实际更改不受影响。 默认Git复位等效于执行`git reset - mixed`
4. 如果使用`--hard`选项与Git重置命令，它将清除分段区域; 它会将HEAD指针重置为特定提交ID的最新提交，并删除本地文件更改.
5. 使用`git branch <branch name>`命令创建一个新的分支。可以从现有的分支创建一个新的分支。 也可以使用特定的提交或标签作为起点创建分支
6.  Git为`checkout`命令提供`-b`选项; 此操作将创建一个新的分支，并立即切换到新分支。
7. `git branch`命令提供`-D`选项来删除分支。 但在删除现有分支之前，请切换到其他分支。
8. `-m`选项后跟旧的分支名称和新的分支名称来更改/重新命名分支名称。
9. 

## 标签

1. `git tag`命令来标记当前`HEAD`指针。在创建标签时需要提供`-a`选项的标签名称，并提供带`-m`选项的标签消息.
2. 以使用带有`-l`选项的`git tag`命令查看所有可用的标签。
3. `git show`命令后跟其标签名来查看有关标签的更多详细信息。
4. 使用以下命令从本地以及远程存储库中删除标签，注意使用 `git tag -d` 中带有`-d`选项
5. 

## git命令

1. `git config`命令用于获取并设置存储库或全局选项

2. ```shell
   -–unset`
   格式：`git config [–local|–global|–system] –unset section.key
   ```

3. `git add`命令可以用`-f(force)`选项添加被忽略的文件。

4. `git add -u [<path>]`: 把`<path>`中所有跟踪文件中被修改过或已删除文件的信息添加到索引库。它不会处理那些不被跟踪的文件。省略`<path>`表示 `.` ,即当前目录。

5. `git status -uno`可以只列出所有已经被git管理的且被修改但没提交的文件。

6. ```shell
   git diff <file> # 比较当前文件和暂存区文件差异 git diff
   
   git diff <id1><id1><id2> # 比较两次提交之间的差异
   
   git diff <branch1> <branch2> # 在两个分支之间比较
   git diff --staged # 比较暂存区和版本库差异
   
   git diff --cached # 比较暂存区和版本库差异
   
   git diff --stat #仅仅比较统计信息
   ```

7. ```shell
   git diff
   Shell
   ```

   此命令比较的是工作目录(Working tree)和暂存区域快照(index)之间的差异
   也就是修改之后还没有暂存起来的变化内容。

8. git commit --amend # 增补提交，会使用与当前提交节点相同的父节点进行一次新的提交，旧的提交将会被取消。

9. 

